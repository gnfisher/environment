# Remap prefix from 'C-b' to 'C-s'
unbind C-b
set-option -g prefix C-s
bind-key C-s send-prefix

# Enable mouse mode
set -g mouse on

# Disable auto-copy on mouse selection
unbind -T copy-mode-vi MouseDragEnd1Pane
unbind -T copy-mode MouseDragEnd1Pane

# Use system clipboard (cross-platform)
set -g set-clipboard on

# macOS
if-shell 'test "$(uname)" = "Darwin"' \
    'bind-key -T copy-mode-vi "y" send-keys -X copy-pipe-and-cancel "pbcopy"; \
     bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "pbcopy"'

# Linux
if-shell 'test "$(uname)" = "Linux"' \
    'bind-key -T copy-mode-vi "y" send-keys -X copy-pipe-and-cancel "xclip -selection clipboard -i"; \
     bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "xclip -selection clipboard -i"'

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# Automatically name sessions based on current directory
set-hook -g after-new-session 'run-shell "tmux rename-session \"#{b:pane_current_path}\""'

# Vim-style pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Default window navigation:
# C-s n (next window)
# C-s p (previous window)

# Number-based window switching (C-s + number)
bind 1 select-window -t 1
bind 2 select-window -t 2
bind 3 select-window -t 3
bind 4 select-window -t 4
bind 5 select-window -t 5
bind 6 select-window -t 6
bind 7 select-window -t 7
bind 8 select-window -t 8
bind 9 select-window -t 9
